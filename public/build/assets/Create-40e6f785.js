import{_ as f,f as c,o as a,c as l,b as e,w as n,v as d,F as m,r as h,g as b,t as p,d as _,e as g,h as x}from"./app-b6edc1a6.js";const v={name:"Create",data(){return{form:{title:"",content:"",tags:[]},tags:null,error:null}},mounted(){this.error=null,this.getTags()},methods:{getTags(){c.get("/api/auth/posts/create").then(r=>this.tags=r.data.data).catch(r=>this.error=r.response.data.message)},createPost(){c.post("/api/auth/posts",this.form).then(()=>{this.$router.push({name:"posts.index"})}).catch(r=>this.error=r.response.data.message)}}},C={class:"p-5"},y=e("h3",null,"Create new post",-1),k={class:"mb-3"},w=e("label",{for:"exampleFormControlInput1",class:"form-label"},"Title",-1),T=e("div",{class:"form-label"},"Post tags",-1),F={class:"mb-3 d-flex flex-wrap gap-2"},P=["value","id"],V=["for"],B={class:"mb-3"},M=e("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Post content",-1),N={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},U=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),D={class:"mb-3"};function I(r,o,E,L,s,i){return a(),l("div",C,[y,e("div",k,[w,n(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.form.title=t),type:"text",class:"form-control",id:"exampleFormControlInput1",placeholder:"Post title"},null,512),[[d,s.form.title]])]),T,e("div",F,[(a(!0),l(m,null,h(s.tags,t=>(a(),l(m,null,[n(e("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>s.form.tags=u),value:t.name,type:"checkbox",class:"btn-check",id:`tag-${t.id}`,autocomplete:"off"},null,8,P),[[x,s.form.tags]]),e("label",{class:"btn btn-outline-secondary",for:`tag-${t.id}`},p(t.name),9,V)],64))),256))]),e("div",B,[M,n(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.content=t),class:"form-control",id:"exampleFormControlTextarea1",rows:"10"},null,512),[[d,s.form.content]])]),s.error?(a(),l("div",N,[b(p(s.error)+" ",1),U])):_("",!0),e("div",D,[e("button",{onClick:o[3]||(o[3]=g((...t)=>i.createPost&&i.createPost(...t),["prevent"])),type:"button",class:"btn btn-primary mb-3"},"Create post")])])}const j=f(v,[["render",I]]);export{j as default};
